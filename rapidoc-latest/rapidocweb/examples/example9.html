<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <script src="./load-rapidoc-and-other-common-scripts.js"></script>
  </head>
  <body>
    <rapi-doc id="thedoc" 
      render-style = "read" 
      allow-try="false"
      allow-authentication = "false" 
    > </rapi-doc>
    <script>
      document.addEventListener('readystatechange', (event) => {
        let docEl = document.getElementById("thedoc");
        let strSpec = `
        {
          "swagger": "2.0",
          "info": { 
          },
          "paths": {
            "/JSON": {
              "get": {
                "summary": "Creating spec from JSON Object",
                "description": "This spec is created dynamically from a JSON object For code refer https://github.com/rapi-doc/RapiDoc/blob/master/docs/examples/example9.html",
                "produces": [ "application/json"],
                "responses": {
                  "200": {
                    "description": "A list of pets.",
                    "schema": {
                      "type": "array",
                      "items": {
                        "$ref": "#/definitions/Pet"
                      }
                    }
                  }
                }
              }
            }
          },
          "definitions": {
            "Pet": {
              "type": "object",
              "properties": {
                "id"  : { "type": "integer" },
                "name": { "type": "string" },
                "tag" : { "type": "string" }
              }
            }
          }
        }  
        `;
        let objSpec = JSON.parse(strSpec);
        docEl.loadSpec(objSpec);
      })
    </script>
  </body>


</html>